import{_ as F}from"./_plugin-vue_export-helper.cdc0426e.js";import{q as w,r as c,o as a,b as r,e as f,w as d,a as s,h as o,F as i,d as k,g as S,v as V,i as y,t as A,p as z}from"./index.97ded6be.js";const O={class:"pagination"},R={__name:"CommonTable",props:{currentPage:{type:Number,default:1},pageSize:{type:Number,default:10},total:{type:Number,default:0},loading:{type:Boolean,default:!1},tableData:{type:Array,default:()=>[],required:!0},columnData:{type:Array,default:()=>[],required:!0},rowKey:{type:String,default:"id"},selectable:{type:Boolean,default:!0},tableHeight:{type:Number,default:610},pagination:{type:Boolean,default:!0}},emits:["handleSelectionChange","handleCurrentChange","handleSizeChange"],setup(t,{expose:m,emit:p}){const u=w();let C=w([]);const v=()=>{u.value.clearSelection()},x=l=>{C.value=l,p("handleSelectionChange",C.value)},B=l=>{p("handleSizeChange",{currentPage:1,pageSize:l})},N=l=>{p("handleCurrentChange",l)};return m({clearAllChecked:v}),(l,g)=>{const h=c("el-table-column"),P=c("el-button"),q=c("el-table"),T=c("el-pagination");return a(),r(i,null,[f(q,{"default-expand-all":"",style:{"margin-top":"10px"},loading:t.loading,"row-key":t.rowKey,ref_key:"multipleTableRef",ref:u,data:t.tableData,"max-height":t.tableHeight,onSelectionChange:x},{default:d(()=>[t.selectable?(a(),s(h,{key:0,type:"selection",width:"55","reserve-selection":""})):o("",!0),(a(!0),r(i,null,k(t.columnData,(e,_)=>(a(),r(i,null,[!e.slot&&!e.showOperation?(a(),s(h,{"show-overflow-tooltip":!0,formatter:e.formatter,key:_,prop:e.prop,label:e.label,"min-width":e.width},null,8,["formatter","prop","label","min-width"])):o("",!0),e.showOperation&&(e.operationConfig.type==="button"||e.operationConfig.type==="switch")?(a(),s(h,{label:"\u64CD\u4F5C",key:_,"min-width":e.width,align:"left",fixed:e.fixed,"header-align":"left"},{default:d(b=>[e.showOperation&&e.operationConfig.type==="button"?(a(!0),r(i,{key:0},k(e.operationConfig.buttons,(n,D)=>(a(),r(i,null,[!n.show||n.show(b.row)?(a(),s(P,{size:n.size,key:D,onClick:K=>n.func(b.row),link:n.link,type:n.type},{default:d(()=>[S("i",{class:V(n.icon)},null,2),y(A(n.title),1)]),_:2},1032,["size","onClick","link","type"])):o("",!0)],64))),256)):o("",!0)]),_:2},1032,["label","min-width","fixed"])):o("",!0)],64))),256))]),_:1},8,["loading","row-key","data","max-height"]),S("div",O,[t.pagination?(a(),s(T,{key:0,currentPage:t.currentPage,"onUpdate:currentPage":g[0]||(g[0]=e=>z(currentPage)?currentPage.value=e:null),"page-size":t.pageSize,"onUpdate:page-size":g[1]||(g[1]=e=>z(pageSize)?pageSize.value=e:null),"page-sizes":[10,20,30],layout:"total, sizes, prev, pager, next, jumper",total:t.total,onSizeChange:B,onCurrentChange:N},null,8,["currentPage","page-size","total"])):o("",!0)])],64)}}},E=F(R,[["__scopeId","data-v-730f04cd"]]),$=y("\u67E5\u8BE2"),H=y("\u91CD\u7F6E"),I={__name:"CommonBtns",props:{query:{type:Function,required:!0},reSet:{type:Function,required:!0}},setup(t){return(m,p)=>{const u=c("el-button");return a(),r(i,null,[f(u,{type:"primary",onClick:t.query},{default:d(()=>[$]),_:1},8,["onClick"]),f(u,{onClick:t.reSet},{default:d(()=>[H]),_:1},8,["onClick"])],64)}}};export{E as C,I as _};
